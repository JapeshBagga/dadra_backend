{"version":3,"file":"Logout-BRud9GYJ.js","sources":["../../src/pages/authentication/Logout.tsx"],"sourcesContent":["import { useDispatch } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { deleteCookies } from \"../../services/cookieService\";\r\nimport { axiosGet } from \"../../services/axiosService\";\r\nimport { userSlice } from \"../../redux/User\";\r\nimport Loader from \"../../components/loaders/Loader\";\r\nimport { useQueryClient } from \"@tanstack/react-query\";\r\nimport { Crisp } from \"crisp-sdk-web\";\r\n\r\nfunction Logout() {\r\n  const queryClient = useQueryClient();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    logout();\r\n  }, []);\r\n\r\n  async function logout() {\r\n    try {\r\n      await axiosGet(\"/auth/logout\");\r\n\r\n      deleteCookies(\"token\", \"/\");\r\n      deleteCookies(\"onBoarding\", \"/\");\r\n\r\n      localStorage.removeItem(\"thrive_ref_id\");\r\n\r\n      Crisp.setTokenId(undefined);\r\n      Crisp.session.reset();\r\n\r\n      dispatch(userSlice.actions.logout());\r\n      queryClient.clear();\r\n      navigate(\"/login\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  return <Loader />;\r\n}\r\n\r\nexport default Logout;\r\n"],"names":["Logout","queryClient","useQueryClient","dispatch","useDispatch","navigate","useNavigate","useEffect","logout","axiosGet","deleteCookies","Crisp","userSlice","err","Loader"],"mappings":"kGAUA,SAASA,GAAS,CAChB,MAAMC,EAAcC,IACdC,EAAWC,IACXC,EAAWC,IAEjBC,EAAAA,UAAU,IAAM,CACPC,GACT,EAAG,CAAE,CAAA,EAEL,eAAeA,GAAS,CAClB,GAAA,CACF,MAAMC,EAAS,cAAc,EAE7BC,EAAc,QAAS,GAAG,EAC1BA,EAAc,aAAc,GAAG,EAE/B,aAAa,WAAW,eAAe,EAEvCC,EAAM,WAAW,MAAS,EAC1BA,EAAM,QAAQ,QAELR,EAAAS,EAAU,QAAQ,OAAQ,CAAA,EACnCX,EAAY,MAAM,EAClBI,EAAS,QAAQ,QACVQ,EAAK,CACZ,QAAQ,IAAIA,CAAG,CACjB,CACF,CAEA,gBAAQC,EAAD,CAAA,EAAA,OAAA,GAAA,CAAA,SAAA,oGAAA,WAAA,GAAA,aAAA,EAAQ,EAAA,IAAA,CACjB"}