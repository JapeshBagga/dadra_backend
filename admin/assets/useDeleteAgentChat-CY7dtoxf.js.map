{"version":3,"file":"useDeleteAgentChat-CY7dtoxf.js","sources":["../../src/pages/agent/hooks/useFetchAgentChat.ts","../../src/pages/agent/hooks/useDeleteAgentChat.ts"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\r\nimport { axiosGet } from \"@/services/axiosService\";\r\n\r\nexport default function useFetchAgentChat(\r\n  agentCode: string,\r\n  agentChatId: string = \"\",\r\n  onSuccess?: Function,\r\n) {\r\n  return useQuery({\r\n    queryKey: [\"agent\", agentCode, \"chat\"],\r\n    queryFn: async () => {\r\n      const response = await axiosGet(\r\n        `/agent/${agentCode}/chat?agentChatId=${agentChatId}`,\r\n      );\r\n      const agentChat = response.data.data.agentChat;\r\n\r\n      onSuccess?.(agentChat);\r\n\r\n      return agentChat;\r\n    },\r\n    gcTime: 0,\r\n  });\r\n}\r\n","import { useMutation } from \"@tanstack/react-query\";\r\nimport { axiosDelete } from \"@/services/axiosService\";\r\nimport { AxiosError } from \"axios\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { userSlice } from \"@/redux/User\";\r\n\r\nexport default function useDeleteAgentChat(agentCode: string) {\r\n  const dispatch = useDispatch();\r\n\r\n  return useMutation({\r\n    mutationKey: [\"agent\", agentCode, \"chat\"],\r\n    mutationFn: async ({ agentChatId }: { agentChatId: string }) => {\r\n      const response = await axiosDelete(\r\n        `/agent/${agentCode}/chat?agentChatId=${agentChatId}`,\r\n      );\r\n\r\n      return response;\r\n    },\r\n    onError: (error) => {\r\n      const errMessage =\r\n        error instanceof AxiosError\r\n          ? error.response?.data.message\r\n          : error.message;\r\n\r\n      dispatch(\r\n        userSlice.actions.setToastPopUp({\r\n          show: true,\r\n          toastType: \"error\",\r\n          message: errMessage || \"Something went wrong\",\r\n        }),\r\n      );\r\n    },\r\n  });\r\n}\r\n"],"names":["useFetchAgentChat","agentCode","agentChatId","onSuccess","useQuery","agentChat","axiosGet","useDeleteAgentChat","dispatch","useDispatch","useMutation","axiosDelete","error","errMessage","AxiosError","_a","userSlice"],"mappings":"sHAGA,SAAwBA,EACtBC,EACAC,EAAsB,GACtBC,EACA,CACA,OAAOC,EAAS,CACd,SAAU,CAAC,QAASH,EAAW,MAAM,EACrC,QAAS,SAAY,CAIb,MAAAI,GAHW,MAAMC,EACrB,UAAUL,CAAS,qBAAqBC,CAAW,EAAA,GAE1B,KAAK,KAAK,UAErC,OAAAC,GAAA,MAAAA,EAAYE,GAELA,CACT,EACA,OAAQ,CAAA,CACT,CACH,CChBA,SAAwBE,EAAmBN,EAAmB,CAC5D,MAAMO,EAAWC,IAEjB,OAAOC,EAAY,CACjB,YAAa,CAAC,QAAST,EAAW,MAAM,EACxC,WAAY,MAAO,CAAE,YAAAC,KACF,MAAMS,EACrB,UAAUV,CAAS,qBAAqBC,CAAW,EAAA,EAKvD,QAAUU,GAAU,OAClB,MAAMC,EACJD,aAAiBE,GACbC,EAAAH,EAAM,WAAN,YAAAG,EAAgB,KAAK,QACrBH,EAAM,QAEZJ,EACEQ,EAAU,QAAQ,cAAc,CAC9B,KAAM,GACN,UAAW,QACX,QAASH,GAAc,sBAAA,CACxB,CAAA,CAEL,CAAA,CACD,CACH"}